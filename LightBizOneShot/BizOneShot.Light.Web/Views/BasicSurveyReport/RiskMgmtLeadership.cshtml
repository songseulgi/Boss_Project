@model BizOneShot.Light.Models.ViewModels.RiskMgmtViewModel

@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<script>
    $(document).ready(function () {
        //top menu
        $('#naviwrap_biz > .navi_biz >  a.navi_report').addClass('on');
        //Cs menu
        $('#sub_leftwrap > .sub_gnbwrap > ul > li > a.gnb_basicReport').addClass('on');

        $('#mainForm').bind('submit', function () {

            var valid = true;
            if ($('#submitType').val() == "N") {

                $('textarea[id^="comment"]').each(function () {
                    if ($(this).val().length == 0 && valid == true) {
                        alert("필수항목을 입력해 주세요");
                        $(this).focus();
                        valid = false;

                        return false;
                    }
                });
                return valid;
            }

        });

        if ($('#Status').val() == "C") {
            $('#mainForm input').attr('disabled', true);
            $('#mainForm textarea').attr('disabled', true);
        }
    });

    function goSubmit(submitType) {
        $('#submitType').val(submitType);
        $('#mainForm').submit();
    }
</script>
@Styles.Render("~/css/print")

<div id="sub_rightwrap_report">

    <div class="sub_right_title specialist_02_03">
        <em>기초경영역량 보고서</em>
    </div>

    <div id="report_wm_step">
        <!--STEP 아이콘-->
        <ul>
            <li class="basic_report01"><a href="@Url.Action("CompanyInfo","BasicSurveyReport", new { area = "", BizWorkSn = ViewBag.paramModel.BizWorkSn, CompSn = ViewBag.paramModel.CompSn, BizWorkYear = ViewBag.paramModel.BizWorkYear, Status = ViewBag.paramModel.Status, QuestionSn = ViewBag.paramModel.QuestionSn })" class="ablock"><em>STEP01.역량검토 결과 요약</em></a></li>
            <li class="basic_report02 on"><a href="@Url.Action("OverallResultCover","BasicSurveyReport", new { area = "", BizWorkSn = ViewBag.paramModel.BizWorkSn, CompSn = ViewBag.paramModel.CompSn, BizWorkYear = ViewBag.paramModel.BizWorkYear, Status = ViewBag.paramModel.Status, QuestionSn = ViewBag.paramModel.QuestionSn })" class="ablock"><em>STEP02.기초역량검토 종합결과</em></a></li>
            <li class="basic_report03">
                @if (ViewBag.paramModel.Status as string == "C")
                {
                    <a href="@Url.Action("GrowthRoadMapCover","BasicSurveyReport", new { area = "", BizWorkSn = ViewBag.paramModel.BizWorkSn, CompSn = ViewBag.paramModel.CompSn, BizWorkYear = ViewBag.paramModel.BizWorkYear, Status = ViewBag.paramModel.Status, QuestionSn = ViewBag.paramModel.QuestionSn })" class="ablock"><em>STEP03.성장로드맵 제안</em></a>
                }
                else
                {
                    <em>STEP03.성장로드맵 제안</em>
                }
            </li>
        </ul>
    </div>

    @using (Html.BeginForm("RiskMgmtLeadership", "BasicSurveyReport", FormMethod.Post, new { area = "", @class = "form-horizontal", role = "form", id = "mainForm" }))
    {
        @Html.HiddenFor(model => model.SubmitType, new { @id = "submitType" })
        @Html.Hidden("BizWorkSn", ViewBag.paramModel.BizWorkSn as string)
        @Html.Hidden("CompSn", ViewBag.paramModel.CompSn as string)
        @Html.Hidden("BizWorkYear", ViewBag.paramModel.BizWorkYear as string)
        @Html.Hidden("QuestionSn", ViewBag.paramModel.QuestionSn as string)
        @Html.Hidden("Status", ViewBag.paramModel.Status as string)

        <div class="sub_report_checkbox">
            <div class="report_main_top2"></div>
            <div class="report_main_mid">
                <div class="main_mid_cont">
                    <p class="title_mid">
                        Ⅱ. 기초역량검토 종합결과 _ <span class="small_span float_right">
                            역량별
                            검토결과
                        </span>
                    </p>
                </div>
                <div class="main_mid_cont">
                    <div class="main_mid_listBox">

                        <div class="listBox_tap longbg_on noline">
                            <span>(3)위험관리 역량</span>
                        </div>
                        <table class="join_info">
                            <colgroup>
                                <col width="20%">
                                <col width="20%">
                                <col width="60%">
                            </colgroup>
                            <tr>
                                <td class="left_memo">역량 검토 항목</td>
                                <td>
                                    <span class="span_on">□ 기초역량 평가</span> <span class="span_weak">□ 재무지표 평가</span> <span class="span_weak">
                                        □
                                        전문가 평가
                                    </span>
                                </td>
                                <td class="center_td">
                                    <div class="label_td">기초역량</div> <span class="label_span"></span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="main_mid_cont">
                    <p class="full_p">
                        <span class="big_span" style="margin: 0">
                            [CEO 역량] 경영자의
                            리더십 _
                        </span><span class="small_span" style="margin: 0">
                            최고경영자가
                            성공적인 리더십을 발휘할 수 있도록 하는데 필요한 요건
                        </span>
                    </p>
                    <div class="explainBox">
                        <div class="label_ex">
                            <p class="ex_p bot_padding">
                                리더십은 조직의 목표달성을 위하여 사람들의 행동에 영향을 미치는 과정을 말합니다.<br> 성공적인
                                리더십을 지닌 경영자는 다음과 같은 점에서 특징을 지닙니다. 첫째, 성공적인 경영자는 경영에 대한 독창적인
                                철학이나 신념을 지니고 있으며, 둘째, 성공적인 경영자는 기업의 성장 전략을 모색하고자 경제동향이나 경쟁사
                                관련 정보에 지속적인 관심을 갖고 있으며, 셋째, 성공적인 경영자 구성원의 적극적인 참여를 유도하고자 구성원에
                                대한 평가 및 보상시스템을 적절히 활용합니다.<br> 경영자가 리더십이 있다고 하는 것은 다른 사람,
                                즉 기업의 구성원들을 움직여서 조직의 목표를 달성할 수 있는 능력이 있다는 것을 의미합니다. 따라서 경영자의
                                리더십 존재 여부는 경영목표의 달성 가능성을 평가하는데 중요한 지표가 될 수 있습니다.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="main_mid_cont">
                    <div class="main_mid_listBox nomargin2">
                        <table class="capacity_table">
                            <colgroup>
                                <col width="5%">
                                <col width="24.5%">
                                <col width="10%">
                                <col width="12%">
                                <col width="12%">
                                <col width="12%">
                                <col width="12%">
                            </colgroup>
                            <tr>
                                <td class="left_memo ">NO</td>
                                <td class="left_memo">체크리스트 항목</td>
                                <td class="left_memo">해당기업</td>
                                <td class="left_memo">
                                    창업보육<br>단계 평균
                                </td>
                                <td class="left_memo">
                                    보육성장<br> 단계 평균
                                </td>
                                <td class="left_memo">
                                    자립성장<br> 단계 평균
                                </td>
                                <td class="left_memo">
                                    참여<br>기업평균
                                </td>
                                <td class="left_memo">전체평균</td>
                            </tr>
                            @if (Model == null || Model.CheckList.Count == 0)
                            {
                                <tr>
                                    <td colspan="7" style="text-align:center;">검색 결과가 없습니다.</td>
                                </tr>
                            }
                            else
                            {
                                foreach (var item in Model.CheckList)
                                {
                                    <tr>
                                        <td class="center_td center">@item.Count</td>
                                        <td class="center_td center">@item.Title</td>
                                        @if (item.AnsVal == true)
                                        {
                                            <td class="center_td center">∎</td>
                                        }
                                        else
                                        {
                                            <td class="center_td center">□</td>
                                        }
                                        <td class="center_td center">@item.StartUpAvg %</td>
                                        <td class="center_td center">@item.GrowthAvg %</td>
                                        <td class="center_td center">@item.IndependentAvg %</td>
                                        <td class="center_td center">@item.BizInCompanyAvg %</td>
                                        <td class="center_td center">@item.TotalAvg %</td>
                                    </tr>
                                }
                            }
                        </table>
                    </div>

                </div>
                <div class="main_mid_cont fix_bot list_print">
                    <div class="main_mid_listBox nomargin2">
                        <div class="listBox_tap bg_on">
                            <span>검토결과</span>
                        </div>
                        @Html.TextAreaFor(model => model.CommentList[0].Comment, new { @id = "comment0", @class = "bot_textarea", @placeholder = "500자 내로 작성하시기 바랍니다." })
                        @Html.HiddenFor(model => model.CommentList[0].DetailCd)
                    </div>

                </div>
            </div>
        </div>
    <!--container//-->
        <div id="btnwrap_sub" class="bottom_left2">

            <div class="rightwrap left">
                <a href="@Url.Action("RiskMgmtVisionStrategy", "BasicSurveyReport", new { area = "", BizWorkSn = ViewBag.paramModel.BizWorkSn, CompSn = ViewBag.paramModel.CompSn, BizWorkYear = ViewBag.paramModel.BizWorkYear, Status = ViewBag.paramModel.Status, QuestionSn = ViewBag.paramModel.QuestionSn })" class="pre left" value="이전"><em>이전</em></a>

            </div>
            <div class="rightwrap right">
                @if (ViewBag.paramModel.Status != "C")
                {
                    <button type="button" class="next" onclick="goSubmit('N');" value="다음" />
                }
                else
                {
                    <a href="@Url.Action("RiskMgmtRelCEO", "BasicSurveyReport", new { area = "", BizWorkSn = ViewBag.paramModel.BizWorkSn, CompSn = ViewBag.paramModel.CompSn, BizWorkYear = ViewBag.paramModel.BizWorkYear, Status = ViewBag.paramModel.Status, QuestionSn = ViewBag.paramModel.QuestionSn })" class="next right" value="다음"><em>다음</em></a>
                }
            </div>
            @if (ViewBag.paramModel.Status != "C")
            {
                <div class="rightwrap centerwrap">
                    <button type="button" class="write_save" onclick="goSubmit('T');" value="임시저장" />
                </div>
            }

        </div>
    }
</div>